OBJS = $(SRCS:.c=.o)

all:$(NAME)

$(NAME): $(OBJS)
	make -C $(MINILIBX)
	$(CC) $(CFLAGS) $(SRCS) $(LIBRARY) -o $(NAME)

%.o : %.c
		$(CC) $(CFLAGS) $(INCLUDES) -c $< -o $@

clean:
	make clean -C $(MINILIBX)
	rm -rf $(OBJS)

fclean: clean
		make clean -C $(MINILIBX)
		rm -rf $(NAME)

re: fclean all

OBJS = $(addprefix $(OBJ_DIR), $(addsuffix .o, $(SRC)))


$(OBJ_DIR)%.o: $(SRC_DIR)%.c 
	mkdir -p $(@D)
	$(CC) $(CFLAGS) -c $< -o $@